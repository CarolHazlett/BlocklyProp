[main]
shiro.loginUrl = /login.jsp

ds = eu.creatingfuture.propeller.blocklyprop.security.DataSourceProvider

credentialsMatcher = org.apache.shiro.authc.credential.HashedCredentialsMatcher
credentialsMatcher.hashAlgorithmName = SHA-256
credentialsMatcher.hashIterations = 1024

jdbcRealm = org.apache.shiro.realm.jdbc.JdbcRealm
jdbcRealm.dataSource = $ds
jdbcRealm.credentialsMatcher = $credentialsMatcher
jdbcRealm.authenticationQuery = select password, salt from user where email = ?
jdbcRealm.userRolesQuery = select r.name from user u join sec_user_role ur on i.id = ur.id_user join sec_role r on ur.id_role = r.id where u.email = ?
jdbcRealm.permissionsQuery = select p.name from sec_role r join sec_role_permission rp on r.id = rp.id_role join sec_permission p on rp.id_permission = p.id where r.name = ?

securityManager.realms = $jdbcRealm

authc.successUrl = /whatever

[urls]
/login.jsp = authc
/register = anon
/logout = logout
/** = authc, user
