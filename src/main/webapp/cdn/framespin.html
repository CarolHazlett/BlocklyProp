<html>
    <head>
        <meta charset="utf-8">
        <title>Blockly Demo: Code</title>
        <script type="text/javascript" src="blockly/apps/blockly_compressed.js"></script>

        <script type="text/javascript" src="blockly/language/en/_messages.js"></script>

        <script type="text/javascript" src="blockly/generators/spin.js"></script>

        <script type="text/javascript" src="blockly/generators/spin/servo.js"></script>
        <script type="text/javascript" src="blockly/generators/spin/sensors.js"></script>
        <script type="text/javascript" src="blockly/generators/spin/debug_lcd.js"></script>
        <script type="text/javascript" src="blockly/generators/spin/control.js"></script>
        <script type="text/javascript" src="blockly/generators/spin/logic.js"></script>
        <script type="text/javascript" src="blockly/generators/spin/math.js"></script>
        <script type="text/javascript" src="blockly/generators/spin/PIRSensor.js"></script>
        <script type="text/javascript" src="blockly/generators/spin/bit_math.js"></script>
        <script type="text/javascript" src="blockly/generators/spin/distance.js"></script>
        <script type="text/javascript" src="blockly/generators/spin/pressure.js"></script>
        <script type="text/javascript" src="blockly/generators/spin/TiltandAcceleration.js"></script>
        <!--<script type="text/javascript" src="generators/arduino/text.js"></script>-->
        <!--<script type="text/javascript" src="generators/arduino/lists.js"></script>-->
        <script type="text/javascript" src="blockly/generators/spin/variables.js"></script>
        <script type="text/javascript" src="blockly/generators/spin/procedures.js"></script>
        <script type="text/javascript" src="blockly/generators/spin/serial.js"></script>
        <script type="text/javascript" src="blockly/language/common/control.js"></script>
        <script type="text/javascript" src="blockly/language/common/logic.js"></script>
        <script type="text/javascript" src="blockly/generators/spin/joystick.js"></script>
        <script type="text/javascript" src="blockly/language/common/math.js"></script>
        <script type="text/javascript" src="blockly/language/common/text.js"></script>
        <script type="text/javascript" src="blockly/language/common/lists.js"></script>
        <!--script type="text/javascript" src="../../language/common/variables.js"></script-->
        <script type="text/javascript" src="blockly/language/common/procedures.js"></script>
        <!-- define blocks -->
        <script type="text/javascript" src="blockly/generators/spin/base.js"></script>
        <!--<script type="text/javascript" src="generators/arduino/grove.js"></script>-->
        <!-- custom block -->
        <!--<script type="text/javascript" src="generators/arduino/custom.js"></script>-->

        <style>
            html, body {
                background-color: #fff;
                margin: 0;
                padding:0;
                overflow: hidden;
            }
            .blocklySvg {
                height: 100%;
                width: 100%;
            }
        </style>
        <script>
            function init() {
                Blockly.inject(document.body, {toolbox: document.getElementById('toolbox'), trashcan: true, media: 'blockly/media/'}); // path: '/' ,

                if (window.parent.init) {
                    // Let the top-level application know that Blockly is ready.
                    window.parent.init(Blockly);
                } else {
                    // Attempt to diagnose the problem.
                    var msg = 'Error: Unable to communicate between frames.\n\n';
                    if (window.parent == window) {
                        msg += 'Try loading index.html instead of frame.html';
                    } else if (window.location.protocol == 'file:') {
                        msg += 'This may be due to a security restriction preventing\n' +
                                'access when using the file:// protocol.\n' +
                                'http://code.google.com/p/chromium/issues/detail?id=47416';
                    }
                    alert(msg);
                }
            }

            function load(xmlText) {
                var xmlDom = Blockly.Xml.textToDom(xmlText)
                Blockly.Xml.domToWorkspace(Blockly.mainWorkspace, xmlDom);
            }

            function ready() {
                if (window.parent.blocklyReady) {
                    // Let the top-level application know that the frame is ready.
                    window.parent.blocklyReady();
                }
            }

            function getXml() {
                var xml = Blockly.Xml.workspaceToDom(Blockly.mainWorkspace);
                return Blockly.Xml.domToText(xml);
            }
        </script>
    </head>
    <body  onload="ready()" >
    <xml id="toolbox" style="display: none">
        <category name="Core">
            <category name="Control">
                <block type="base_delay"></block>
                <block type="text"></block>
                <block type="controls_repeat_forever"></block>
                <block type="controls_repeat"></block>
                <block type="controls_if"></block>
            </category>
            <category name="Logic">
                <block type="logic_compare"></block>
                <block type="logic_operation"></block>
                <block type="logic_negate"></block>
                <block type="logic_boolean"></block>
            </category>
            <category name="Math">
                <block type="math_number"></block>
                <block type="math_arithmetic"></block>
                <block type="math_single"></block>
                <block type="math_limit"></block>
                <block type="math_crement"></block>
            </category>
        </category>
        <category name="Sensors">
            <category name="Joystick">
                <block type="joystick_input_yaxis"></block>
                <block type="joystick_input_xaxis"></block>
            </category>
        </category>
        <category name="Actuators">
            <category name="Servo">
                <block type="servo_move"></block>
            </category>
        </category>
        <category name="Displays">
            <category name="Debug LCD">
                <block type="debug_lcd_init"></block>
                <block type="debug_lcd_clear"></block>
                <block type="debug_lcd_print"></block>
                <block type="debug_lcd_number"></block>
                <block type="debug_lcd_action"></block>
            </category>
        </category>
        <category name="Activity Board">
            <category name="Drive">
                <!--    <block type="ab_drive_goto"></block>
                    <block type="ab_drive_speed"></block>-->
            </category>
            <category name="ADC/DAC">
                <!--    <block type="ab_volt_in"></block>
                    <block type="ab_volt_v_in"></block>
                    <block type="ab_volt_out"></block>
                    <block type="ab_volt_v_out"></block>-->
            </category>
        </category>
        <sep></sep>
        <category name="Variables" custom="VARIABLE"></category>
        <category name="Functions" custom="PROCEDURE"></category>
    </xml>
</body>
</html>
